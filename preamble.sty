%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Package information                     %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{preamble}
[2020/11/11 MiltFra Preamble]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Page setup                          %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage[a4paper]{geometry}
\geometry{tmargin=3cm, bmargin=3cm, lmargin=2cm, rmargin=2cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Required packages                                             %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage[british]{babel}
\RequirePackage{pseudo}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{nicefrac}
\RequirePackage{siunitx}
\RequirePackage{mathtools}
\RequirePackage{todonotes}
\RequirePackage{hyperref}
\hypersetup{
  colorlinks,
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=black
}
\RequirePackage{listings}
\RequirePackage{minted}
\RequirePackage{proof}
\RequirePackage{varioref}
\RequirePackage{quiver}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Theorems                            %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newtheoremstyle{sltheorem} {}                % Space above
{}                % Space below
{\upshape}        % Theorem body font % (default is "\upshape")
{}                % Indent amount
{\bfseries}       % Theorem head font % (default is \mdseries)
{.}               % Punctuation after theorem head % default: no punctuation
{ }               % Space after theorem head
{}                % Theorem head spec
\theoremstyle{sltheorem}
\newcommand{\mkanonthms}{
  \newtheorem*{theorem*}{Theorem}
  \newtheorem*{definition*}{Definition}
  \newtheorem*{lemma*}{Lemma}
  \newtheorem*{corollary*}{Corollary}
  \newtheorem*{conjecture*}{Conjecture}
  \newtheorem*{proposition*}{Proposition}
  \newtheorem*{example*}{Example}
  \newtheorem*{algorithm*}{Algorithm}
}
\newcommand{\mkthmstwounified}{
  \newtheorem{theorem}{Theorem}[section]
  \newtheorem{definition}[theorem]{Definition}
  \newtheorem{lemma}[theorem]{Lemma}
  \newtheorem{corollary}[theorem]{Corollary}
  \newtheorem{conjecture}[theorem]{Conjecture}
  \newtheorem{proposition}[theorem]{Proposition}
  \newtheorem{example}[theorem]{Example}
  \newtheorem{algorithm}[theorem]{Algorithm}
  \newtheorem{axiom}{Axiom}
  \mkanonthms
}
\newcommand{\mkthmstwoseparate}{
  \newtheorem{definition}{Definition}[section]
  \newtheorem{theorem}{Theorem}[section]
  \newtheorem{lemma}[theorem]{Lemma}
  \newtheorem{corollary}[theorem]{Corollary}
  \newtheorem{conjecture}[theorem]{Conjecture}
  \newtheorem{proposition}[theorem]{Proposition}
  \newtheorem{example}{Example}[section]
  \mkanonthms
}
\newcommand{\mkthmsthreeunified}{
  \newtheorem{theorem}{Theorem}[subsection]
  \newtheorem{definition}[theorem]{Definition}
  \newtheorem{lemma}[theorem]{Lemma}
  \newtheorem{corollary}[theorem]{Corollary}
  \newtheorem{conjecture}[theorem]{Conjecture}
  \newtheorem{proposition}[theorem]{Proposition}
  \newtheorem{example}[theorem]{Example}
  \mkanonthms
}
\newcommand{\mkthmsthreeseparate}{
  \newtheorem{theorem}{Theorem}[subsection]
  \newtheorem{definition}{Definition}[subsection]
  \newtheorem{lemma}[theorem]{Lemma}
  \newtheorem{corollary}[theorem]{Corollary}
  \newtheorem{conjecture}[theorem]{Conjecture}
  \newtheorem{proposition}[theorem]{Proposition}
  \newtheorem{example}{Example}[section]
  \mkanonthms
}
\newcommand{\mkthms}{\mkthmstwoseparate}
\newcommand{\mkfpmthms}{\mkthmsthreeunified}
\newcommand{\mkawodeythms}{\mkthmstwounified}

\newcommand{\declarecommand}[1]{\providecommand{#1}{}\renewcommand{#1}}

\declarecommand{\note}[1]{\todo[color=yellow!50]{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Maths commands and operators                  %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% Pure maths %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\declarecommand{\repr}[3]{\!_{#1}[{#2}]_{#3}}
\declarecommand{\rrepr}[2]{[{#1}]_{#2}}
\declarecommand{\lrepr}[2]{\!_{#1}[{#2}]}
\declarecommand{\N}{\mathbb{N}}
\declarecommand{\Z}{\mathbb{Z}}
\declarecommand{\Q}{\mathbb{Q}}
\declarecommand{\R}{\mathbb{R}}
\declarecommand{\e}{\varepsilon}
\declarecommand{\inv}[1]{#1^{-1}}
\declarecommand{\C}{\mathbb{C}}
\declarecommand{\I}{I\!I}
\declarecommand{\F}{\mathbb{F}}
\declarecommand{\upset}[1]{\uparrow\!#1}
\declarecommand{\loset}[1]{\downarrow\!#1}
\declarecommand{\cat}[1]{\mathcal{#1}}
\declarecommand{\catar}[1]{\cat{#1}^\to}
\declarecommand{\catop}[1]{\cat{#1}^{op}}
\declarecommand{\Set}{\textbf{Set}}
\declarecommand{\Rel}{\textbf{Rel}}
\declarecommand{\Hilb}{\textbf{Hilb}}
\declarecommand{\FHilb}{\textbf{FHilb}}
\declarecommand{\epi}{\twoheadrightarrow}
\declarecommand{\mono}{\rightarrowtail}
\declarecommand{\ih}{\vec i}
\declarecommand{\jh}{\vec j}
\declarecommand{\kh}{\vec k}
\declarecommand{\wbigcup}{\mathop{\bigcup}\displaylimits}
\declarecommand{\wbigcap}{\mathop{\bigcap}\displaylimits}
\declarecommand{\hs}{\hspace{0.7cm}}
\declarecommand{\P}{\mathcal{P}}
\declarecommand{\E}{\mathbb{E}}
\declarecommand{\V}{\Var}
\declarecommand\B[1]{\textbf{#1}}
\declarecommand{\abs}[1]{\left\vert#1\right\vert}
\declarecommand{\vabs}[1]{\left\Vert#1\right\Vert}
\declarecommand{\sv}{\:|\:}
\declarecommand{\vec}{\underline}
\declarecommand{\p}{\partial}
\declarecommand{\dv}[1]{\vec #1'}
\declarecommand{\di}{\iint\limits}
\declarecommand{\ti}{\iiint\limits}
\declarecommand{\partialto}{\rightharpoonup}
\declarecommand{\st}{\text{ s.t }}
\declarecommand{\hoare}[3]{\{#1\}\:#2\:\{#3\}}
\declarecommand{\eval}[2]{\left. #1 \right\rvert_{#2}}
\declarecommand{\grad}{\vec\nabla}
\declarecommand{\lapl}{\nabla^2}
\declarecommand{\ptime}{$\text{P}_{\texttt{TIME}}$}
\declarecommand{\nptime}{$\text{NP}_{\texttt{TIME}}$}
\def\varlim@@#1#2{%
  \vtop{\m@th\ialign{##\cr
      \hfil$#1\operator@font lim$\hfil\cr
      \noalign{\nointerlineskip\kern1.5\ex@}
      \expandafter#2\ifx#1\scriptscriptstyle\scriptscriptstyle\else\scriptstyle\fi\cr
  \noalign{\nointerlineskip\kern-\ex@}\cr}}%
}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\arccosh}{\text{cosh}^{-1}}
\DeclareMathOperator{\arccot}{\text{cot}^{-1}}
\DeclareMathOperator{\arccoth}{\text{coth}^{-1}}
\DeclareMathOperator{\arccsc}{\text{csc}^{-1}}
\DeclareMathOperator{\arccsch}{\text{csch}^{-1}}
\DeclareMathOperator{\arcsech}{\text{sech}^{-1}}
\DeclareMathOperator{\arcsinh}{\text{sinh}^{-1}}
\DeclareMathOperator{\arctanh}{\text{tanh}^{-1}}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Bern}{Bernoulli}
\DeclareMathOperator{\bij}{bij}
\DeclareMathOperator{\Binom}{Binom}
\declarecommand\catlim{\mathop{\mathpalette\varlim@@\leftarrowfill@}\nmlimits@}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclareMathOperator{\cl}{cl}
\DeclareMathOperator{\cod}{cod}
\declarecommand\colim{\mathop{\mathpalette\varlim@@\rightarrowfill@}\nmlimits@}
\DeclareMathOperator{\conj}{conj}
\DeclareMathOperator{\Cor}{Cor}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\csch}{csch}
\DeclareMathOperator{\curl}{curl}
\DeclareMathOperator{\decjz}{decjz}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\diam}{diam}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\enc}{enc}
\DeclarePairedDelimiter{\eqc}{[\![}{[\!]}
\DeclareMathOperator{\Exp}{Exponential}
\DeclareMathOperator{\exterior}{ext}
\DeclareMathOperator{\fix}{fix}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclareMathOperator{\GD}{Gamma}
\DeclareMathOperator{\Geom}{Geom}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\glb}{\inf}
\DeclareMathOperator{\hcf}{hcf}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\img}{im}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\inc}{inc}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\len}{len}
\DeclareMathOperator{\logit}{logit}
\DeclarePairedDelimiter{\angles}{\langle}{\rangle}
\DeclarePairedDelimiter{\ucorners}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\bcorners}{\blcorner}{\brcorner}
\DeclareMathOperator{\lub}{\sup}
\DeclareMathOperator{\Mat}{Mat}
\DeclareMathOperator{\mse}{MSE}
\DeclareMathOperator{\Normal}{Normal}
\DeclareMathOperator{\orb}{orb}
\DeclareMathOperator{\Poiss}{Poiss}
\DeclareMathOperator{\range}{rng}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\rmse}{RMSE}
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\send}{send}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\sse}{SSE}
\DeclareMathOperator{\sst}{SST}
\DeclareMathOperator{\stab}{stab}
\DeclareMathOperator{\Sub}{Sub}
\DeclareMathOperator{\subst}{SUBST}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Unif}{Unif}

\declarecommand{\cc}[1]{\left\lbrace#1\right\rbrace}
\declarecommand{\rr}[1]{\left(#1\right)}
\declarecommand{\rb}[1]{\left(#1\right]}
\declarecommand{\br}[1]{\left[#1\right)}
\declarecommand{\bb}[1]{\left[#1\right]}
\declarecommand{\aa}[1]{\left\langle#1\right\rangle}
\declarecommand{\av}[1]{\left\langle#1\right\vert}
\declarecommand{\va}[1]{\left\vert#1\right\rangle}
\declarecommand{\vv}[1]{\left\vert#1\right\vert}
\declarecommand{\ava}[2]{\left\langle{#1}\vert{#2}\right\rangle}
\declarecommand{\affine}[1]{\mathbf{A}^{#1}}
\declarecommand{\proj}[1]{\mathbf{P}^{#1}}
\declarecommand{\projv}[1]{\mathbf{P}\rr{#1}}
\declarecommand{\pr}[1]{\text{Pr}\rr{#1}}
\declarecommand{\prc}[2]{\text{Pr}\rr{#1\vert #2}}

\declarecommand{\Gal}[1]{\text{Gal}\rr{#1}}
\declarecommand{\Eq}[1]{\text{Eq}\rr{#1}}
\DeclareMathOperator{\ch}{char}
\DeclareMathOperator{\Hess}{Hess}
\DeclareMathOperator{\mult}{mult}
\DeclareMathOperator{\identity}{id}
\DeclareMathOperator{\Bl}{Bl}
\declarecommand{\dashto}{\dashrightarrow}
\declarecommand{\iff}{if, and only if,}
\DeclareMathOperator{\Bir}{Bir}

\declarecommand{\qone}{\va{1}}
\declarecommand{\qzero}{\va{0}}
\declarecommand{\qplus}{\va{+}}
\declarecommand{\qminus}{\va{-}}
\setcounter{MaxMatrixCols}{20}

\newenvironment{amatrix}[1]{%
  \left[\begin{array}{@{}*{#1}{c}|c@{}}
    }{%
  \end{array}\right]
}
\endinput


